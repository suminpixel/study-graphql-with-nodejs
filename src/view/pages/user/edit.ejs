<%- include('../../partials/header') -%>

<div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
  <h1 class="h2">사용자 수정</h1>
</div>

<form method="post" enctype="multipart/form-data">
  <div class="form-group">
    <label for="user-name">사용자 아이디</label>
    <input
      type="text"
      readonly
      class="form-control"
      id="user-id"
      placeholder="사용자 이름"
      value="<%= user.id %>"
      name="id"
    />
  </div>
  <div class="form-group">
    <label for="user-name">사용자 이름</label>
    <input
      type="text"
      class="form-control"
      id="user-name"
      placeholder="사용자 이름"
      value="<%= user.name %>"
      name="name"
    />
  </div>
  <div class="form-group">
    <label for="user-email">사용자 이메일</label>
    <input type="email" class="form-control" id="user-email" value="<%= user.email %>" name="email" />
  </div>
  <div class="form-group">
    <label for="user-profil-image">프로필 이미지</label>
    <div>
      <img
        style="width: 350px; height: 350px"
        class="rounded img-fluid img-thumbnail"
        src="<%= user.profileImageUrl %>"
      />
    </div>
    <input type="file" class="form-control" id="user-profil-image" name="image" />
  </div>
  <div class="form-group">
    <label for="user-loginCount">사용자 로그인 횟수</label>
    <input
      disabled
      type="number"
      class="form-control"
      id="user-loginCount"
      value="<%= user.loginCount %>"
      name="loginCount"
    />
  </div>

  <div class="form-group">
    <label for="user-lastLoginAt">마지막 로그인 일시</label>
    <input
      disabled
      type="text"
      class="form-control"
      id="user-lastLoginAt"
      value="<%= (user.lastLoginAt) ? user.lastLoginAt.toLocaleString() : '' %>"
      name="lastLoginAt"
    />
  </div>
  <div class="form-group">
    <label for="user-createdAt">생성 일시</label>
    <input
      readonly
      type="text"
      class="form-control"
      id="user-createdAt"
      value="<%= user.createdAt.toLocaleString() %>"
      name="createdAt"
    />
  </div>
  <div class="form-group">
    <label for="user-updatedAt">수정 일시</label>
    <input
      readonly
      type="text"
      class="form-control"
      id="user-updatedAt"
      value="<%= user.updatedAt.toLocaleString() %>"
      name="updatedAt"
    />
  </div>
  <div class="float-right">
    <ul class="list-inline">
      <li class="list-inline-item">
        <button type="submit" id="edit-btn" class="btn btn-primary">Submit</button>
      </li>
      <li class="list-inline-item">
        <button
          type="submit"
          class="btn btn-danger"
          id="delete-btn"
          formaction="?_method=DELETE"
          formmethod="POST"
          value="<%= user._id %>"
        >
          Delete
        </button>
      </li>
    </ul>
  </div>
</form>
<%- include('../../partials/footer') -%>
